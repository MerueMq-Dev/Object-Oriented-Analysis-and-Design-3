# Классы поведения

## GameController

Главный управляющий игры — именно он «ведёт процесс» и связывает все части системы в одно целое.

### Запросы

- GetCurrentState() — узнать, в каком состоянии сейчас игра

### Команды

- ProcessMove(move) — принять и обработать ход игрока
- StartGame() — запустить новую игру
- EndGame() — корректно завершить игру

### Ограничения

- ход можно обработать только когда игра находится в состоянии «идёт партия»

## GameStateMachine

Отвечает за режимы игры: меню, игра, завершение — и следит, чтобы переходы между ними были правильными.

### Запросы

- GetState() — получить текущий режим игры

### Команды

- ChangeState(newState) — переключить игру в другой режим

### Ограничения

- можно переходить только между разрешёнными состояниями

## GameBoard

Игровое поле — хранит всё, что происходит на доске, и управляет её изменениями.

### Запросы

- GetElement(x, y) — какой элемент находится в клетке
- IsInside(x, y) — существует ли такая клетка на поле
- HasMatch() — есть ли сейчас совпадения

### Команды

- Swap(element1, element2) — поменять два элемента местами
- RemoveMatches() — убрать найденные совпадения
- FillEmpty() — заполнить пустые места новыми элементами

### Ограничения

- поле всегда размером 8×8
- в одной клетке может быть только один элемент

## GameSession

Описывает одну конкретную партию — её состояние и текущий результат.

### Запросы

- GetScore() — сколько очков набрано
- IsFinished() — закончена ли партия

### Команды

- Start() — начать партию
- Finish() — завершить партию
- AddScore(value) — добавить очки

### Ограничения

- очки не могут быть отрицательными
- партия либо активна, либо завершена

## GameElement

Одна фишка на поле — минимальная игровая единица.

### Запросы

- GetType() — узнать её тип или цвет

### Команды

- SetType(type) — изменить тип элемента

### Ограничения

- элемент всегда имеет допустимый тип

## Leaderboard

Хранит лучшие результаты игроков.

### Запросы

- GetTop(n) — получить топ-результаты
- GetAll() — весь список результатов

### Команды

- AddResult(player, score) — добавить новый результат

### Ограничения

- результаты хранятся в порядке убывания очков