namespace ThreeInARow.Data.Abstractions;

/// <summary>
/// АТД: Таблица лидеров
/// 
/// НАЗНАЧЕНИЕ:
///   Хранит результаты игровых партий и предоставляет доступ к ним
///   Поддерживает упорядочивание результатов по убыванию счёта
/// 
/// ЗАПРОСЫ:
///   GetTop(n: int) -> List&lt;GameResult&gt;
///     Возвращает n наилучших результатов
///     Предусловие: n является положительным числом
///     Постусловие: возвращает до n записей
///     Постусловие: результаты упорядочены по убыванию счёта
///     Постусловие: количество записей не превышает min(n, общее_количество)
///     
///   GetAll() -> List&lt;GameResult&gt;
///     Возвращает все сохранённые результаты
///     Постусловие: результаты упорядочены по убыванию счёта
///     
/// КОМАНДЫ:
///   AddResult(playerName: string, score: int) -> void
///     Добавляет новый результат в таблицу
///     Предусловие: playerName является непустой строкой
///     Предусловие: score неотрицателен
///     Постусловие: количество результатов в GetAll() увеличивается на единицу
///     Постусловие: новый результат присутствует в GetAll()
///     Постусловие: упорядочивание по убыванию счёта сохраняется
///     
/// ИНВАРИАНТЫ:
///   - Все результаты имеют неотрицательный счёт
///   - Результаты упорядочены по убыванию значения счёта
///   - Каждый результат имеет определённое непустое имя игрока
///   - Каждый результат имеет корректную временную метку
/// </summary>
public interface ILeaderboard
{
    // Запросы
    List<GameResult> GetTop(int n);
    List<GameResult> GetAll();

    // Команды
    void AddResult(string playerName, int score);
}