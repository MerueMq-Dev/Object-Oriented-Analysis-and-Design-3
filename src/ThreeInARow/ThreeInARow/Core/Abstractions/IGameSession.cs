namespace ThreeInARow.Core.Abstractions;

/// <summary>
/// АТД: Игровая сессия
/// 
/// НАЗНАЧЕНИЕ:
///   Представляет одну игровую партию с отслеживанием счёта и состояния
/// 
/// ЗАПРОСЫ:
///   GetScore() : int
///     Возвращает текущее количество очков
///     Постусловие: возвращаемое значение неотрицательно
///     
///   IsFinished() : bool
///     Проверяет статус завершения партии
///     Постусловие: возвращает true если партия завершена, иначе false
///     
///   GetPlayerName() : string
///     Возвращает имя игрока
///     Постусловие: возвращаемая строка не является пустой
///     
/// КОМАНДЫ:
///   Start() : void
///     Инициализирует новую партию
///     Постусловие: после выполнения GetScore() возвращает 0
///     Постусловие: после выполнения IsFinished() возвращает false
///     
///   Finish() : void
///     Завершает текущую партию
///     Постусловие: после выполнения IsFinished() возвращает true
///     Постусловие: значение GetScore() сохраняется без изменений
///     
///   AddScore(value: int) : void
///     Увеличивает счёт на указанное значение
///     Предусловие: параметр value неотрицателен
///     Постусловие: GetScore() увеличивается на значение value
///     Исключение: ArgumentException при отрицательном значении value
///     
/// ИНВАРИАНТЫ:
///   - Счёт партии неотрицателен в любой момент времени
///   - Партия находится в одном из двух состояний: активна или завершена
///   - Имя игрока определено и не является пустым
/// </summary>
public interface IGameSession
{
    // Запросы
    int GetScore();
    bool IsFinished();
    string GetPlayerName();

    // Команды
    void Start();
    void Finish();
    void AddScore(int value);
}